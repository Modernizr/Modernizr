{
  "name": "loggly",
  "description": "A client implementation for Loggly cloud Logging-as-a-Service API",
  "version": "0.3.11",
  "author": {
    "name": "Charlie Robbins",
    "email": "charlie.robbins@gmail.com"
  },
  "contributors": [
    {
      "name": "Marak Squires",
      "email": "marak.squires@gmail.com"
    },
    {
      "name": "hij1nx",
      "email": "hij1nx@me.com"
    },
    {
      "name": "Kord Campbell",
      "email": "kordless@loggly.com"
    },
    {
      "name": "Erik Hedenstrom",
      "email": "erik@hedenstroem.com"
    }
  ],
  "repository": {
    "type": "git",
    "url": "http://github.com/nodejitsu/node-loggly.git"
  },
  "keywords": [
    "cloud computing",
    "api",
    "logging",
    "loggly"
  ],
  "dependencies": {
    "request": "2.9.x",
    "timespan": "2.x.x"
  },
  "devDependencies": {
    "vows": "0.6.x"
  },
  "main": "./lib/loggly",
  "scripts": {
    "test": "vows test/*-test.js --spec"
  },
  "engines": {
    "node": ">= 0.4.0"
  },
  "readme": "# node-loggly\n\nA client implementation for Loggly in node.js\n\n## Installation\n\n### Installing npm (node package manager)\n``` bash\n  $ curl http://npmjs.org/install.sh | sh\n```\n\n### Installing node-loggly\n``` bash\n  $ [sudo] npm install loggly\n```\n\n## Usage\n\nThe node-loggly library is compliant with the [Loggly API][0]. Using node-loggly is easy for a variety of scenarios: logging, working with devices and inputs, searching, and facet searching.\n\n### Getting Started\nBefore we can do anything with Loggly, we have to create a client with valid credentials. We will authenticate for you automatically: \n\n``` js\n  var loggly = require('loggly');\n  var config = {\n    subdomain: \"your-subdomain\",\n    auth: {\n      username: \"your-username\",\n      password: \"your-password\"\n    }\n  };\n  var client = loggly.createClient(config);\n```\n\n### Logging\nThere are two ways to send log information to Loggly via node-loggly. The first is to simply call client.log with an appropriate input token:\n\n``` js\n  client.log('your-really-long-input-token', '127.0.0.1 - Theres no place like home', function (err, result) {\n    // Do something once you've logged\n  });\n```\n\nNote that the callback in the above example is optional, if you prefer the 'fire and forget' method of logging:\n\n``` js\n  client.log('your-really-long-input-token', '127.0.0.1 - Theres no place like home');\n```\n\nThe second way to send log information to Loggly is to do so once you've retrieved an input directly from Loggly:\n\n``` js\n  client.getInput('your-input-name', function (err, input) {\n    input.log('127.0.0.1 - Theres no place like home');\n  });\n```\n\nAgain the callback in the above example is optional and you can pass it if you'd like to.\n\n### Logging Shallow JSON Object Literals as a String\nIn addition to logging pure strings it is also possible to pass shallow JSON object literals (i.e. no nested objects) to client.log(..) or input.log(..) methods, which will get converted into the [Loggly recommended string representation][1]. So\n\n``` js\n  var source = {\n    foo: 1,\n    bar: 2,\n    buzz: 3\n  };\n  \n  input.log(source);\n```\n\nwill be logged as: \n\n```\n  foo=1,bar=2,buzz=3\n```\n\n### Logging Objects to JSON Enabled Loggly Inputs\nIt is also possible to log complex objects using the new JSON capabilities of Loggly. To enable JSON functionality in the client simply add 'json: true' to the configuration:\n\n``` js\n  var config = {\n    subdomain: \"your-subdomain\",\n    auth: {\n      username: \"your-username\",\n      password: \"your-password\"\n    },\n    json: true\n  };\n```\n\nWhen the json flag is enabled, objects will be converted to JSON using JSON.stringify before being transmitted to Loggly. So\n\n``` js\n  var source = {\n    foo: 1,\n    bar: 2,\n    buzz: {\n      sheep: 'jumped',\n      times: 10\n    }\n  };\n\n  input.log(source);\n```\n\nwill be logged as:\n\n``` json\n  { \"foo\": 1, \"bar\": 2, \"buzz\": {\"sheep\": \"jumped\", \"times\": 10 }}\n```\n\n### Searching\n[Searching][3] with node-loggly is easy. All you have to do is use the search() method defined on each Loggly client:\n\n``` js\n  var util = require('util');\n  \n  client.search('404', function (err, results) {\n    // Inspect the result set\n    util.inspect(results.data);\n  });\n```\n\nThe search() exposes a chainable interface that allows you to set additional search parameters such as: ip, input name, rows, start, end, etc. \n\n``` js\n  var util = require('util');\n  \n  client.search('404')\n        .meta({ ip: '127.0.0.1', inputname: test })\n        .context({ rows: 10 })\n        .run(function (err, results) {\n          // Inspect the result set\n          util.inspect(results.data);\n        });\n```\n\nThe context of the search (set using the `.context()` method) represents additional parameters in the Loggly API besides the search query itself. See the [Search API documentation][9] for a list of all options.\n\nMetadata set using the `.meta()` method is data that is set in the query parameter of your Loggly search, but `:` delimited. For more information about search queries in Loggly, check out the [Search Language Guide][4] on the [Loggly Wiki][5].\n\n### Facet Searching\nLoggly also exposes searches that can return counts of events over a time range. These are called [facets][6]. The valid facets are 'ip', 'date', and 'input'. Performing a facet search is very similar to a normal search: \n\n``` js\n  var util = require('util');\n  \n  client.facet('ip', '404')\n        .context({ buckets: 10 })\n        .run(function (err, results) {\n          // Inspect the result set\n          util.inspect(results.data);\n        });\n```\n\nThe chaining and options for the facet method(s) are the same as the search method above. \n\n### Working with Devices and Inputs\nLoggly exposes several entities that are available through node-loggly: inputs and devices. For more information about these terms, checkout the [Loggly Jargon][7] on the wiki. There are several methods available in node-loggly to work with these entities: \n\n``` js\n  //\n  // Returns all inputs associated with your account\n  //\n  client.getInputs(function (err, inputs) { /* ... */ });\n  \n  //\n  // Returns an input with the specified name\n  //\n  client.getInput('input-name', function (err, input) { /* ... */ });\n  \n  //\n  // Returns all devices associated with your account\n  //\n  client.getDevices(function (err, devices) { /* ... */ });\n```\n\n## Run Tests\nAll of the node-loggly tests are written in [vows][8], and cover all of the use cases described above. You will need to add your Loggly username, password, subdomain, and a two test inputs to test/data/test-config.json before running tests. When configuring the test inputs on Loggly, the first test input should be named 'test' using the HTTP service. The second input should be name 'test_json' using the HTTP service with the JSON logging option enabled:\n\n``` js\n  {\n    \"subdomain\": \"your-subdomain\",\n    \"auth\": {\n      \"username\": \"your-username\",\n      \"password\": \"your-password\"\n    },\n    \"inputs\": {\n      \"test\": {\n        //\n        // Token and ID of your plain-text input.\n        //\n        \"token\": \"your-really-long-token-you-got-when-you-created-an-http-input\",\n        \"id\": 000\n      },\n      \"test_json\": {\n        //\n        // Token and ID of your JSON input.\n        //\n        \"token\": \"your-really-long-token-you-got-when-you-created-an-http-input\",\n        \"id\": 001\n      },\n    }\n  }\n```\n\nOnce you have valid Loggly credentials you can run tests with [vows][8]:\n\n``` bash\n  $ npm test\n```\n\n#### Author: [Charlie Robbins](http://www.github.com/indexzero)\n#### Contributors: [Marak Squires](http://github.com/marak), [hij1nx](http://github.com/hij1nx), [Kord Campbell](http://loggly.com), [Erik HedenstrÃ¶m](http://github.com/ehedenst),\n\n[0]: http://wiki.loggly.com/apidocumentation\n[1]: http://wiki.loggly.com/loggingfromcode\n[3]: http://wiki.loggly.com/retrieve_events#search_uri\n[4]: http://wiki.loggly.com/searchguide\n[5]: http://wiki.loggly.com/\n[6]: http://wiki.loggly.com/retrieve_events#facet_uris\n[7]: http://wiki.loggly.com/loggingjargon\n[8]: http://vowsjs.org\n[9]: http://wiki.loggly.com/retrieve_events#optional\n",
  "readmeFilename": "README.md",
  "_id": "loggly@0.3.11",
  "_from": "loggly@0.3.x >=0.3.7"
}
