/*
YUI 3.8.0pr1 (build 140)
Copyright 2012 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/
YUI.add("color-harmony",function(e,t){var n="hsl",r="rgb",i=30,s=10,o=120,u=60,a=90,f=5,l=10,c=e.Color,h={getComplementary:function(e,t){var n=h._start(e),r=n.concat();return t=t||c.findType(e),r=h.getOffset(r,{h:180}),[h._finish(n,t),h._finish(r,t)]},getSplit:function(e,t,n){var r=h._start(e),s,o;return t=t||i,n=n||c.findType(e),r=h.getOffset(r,{h:180}),s=r.concat(),s=h.getOffset(s,{h:t}),o=r.concat(),o=h.getOffset(o,{h:-t}),r=h.getOffset(r,{h:180}),[h._finish(r,n),h._finish(s,n),h._finish(o,n)]},getAnalogous:function(e,t,n){var r=h._start(e),i,o,u,a;return t=t||s,n=n||c.findType(e),i=r.concat(),i=h.getOffset(i,{h:t}),o=i.concat(),o=h.getOffset(o,{h:t}),u=r.concat(),u=h.getOffset(u,{h:-t}),a=u.concat(),a=h.getOffset(a,{h:-t}),[h._finish(r,n),h._finish(i,n),h._finish(o,n),h._finish(u,n),h._finish(a,n)]},getTriad:function(e,t){var n=h._start(e),r,i;return t=t||c.findType(e),r=n.concat(),r=h.getOffset(r,{h:o}),i=r.concat(),i=h.getOffset(i,{h:o}),[h._finish(n,t),h._finish(r,t),h._finish(i,t)]},getTetrad:function(e,t,n){var r=h._start(e),i,s,o;return t=t||u,n=n||c.findType(e),i=r.concat(),i=h.getOffset(i,{h:t}),s=r.concat(),s=h.getOffset(s,{h:180}),o=s.concat(),o=h.getOffset(o,{h:t}),[h._finish(r,n),h._finish(i,n),h._finish(s,n),h._finish(o,n)]},getSquare:function(e,t){var n=h._start(e),r,i,s;return t=t||c.findType(e),r=n.concat(),r=h.getOffset(r,{h:a}),i=r.concat(),i=h.getOffset(i,{h:a}),s=i.concat(),s=h.getOffset(s,{h:a}),[h._finish(n,t),h._finish(r,t),h._finish(i,t),h._finish(s,t)]},getMonochrome:function(e,t,n){var r=h._start(e),i=[],s=0,o,u,a=r.concat();t=t||f,n=n||c.findType(e);if(t<2)return e;u=100/(t-1);for(;s<=100;s+=u)a[2]=Math.max(Math.min(s,100),0),i.push(a.concat());o=i.length;for(s=0;s<o;s++)i[s]=h._finish(i[s],n);return i},getSimilar:function(e,t,n,r){var i=h._start(e),s=[i],o,u=0,a,p,d=i.concat();r=r||c.findType(e),n=n||f,t=t||l,o=t>100?100:t;for(;u<n;u++)p={h:Math.random()*t*2-t,s:Math.random()*o*2,l:Math.random()*o*2},d=h.getOffset(d,p),s.push(d.concat());a=s.length;for(u=0;u<a;u++)s[u]=h._finish(s[u],r);return s},getOffset:function(t,n,r){var i=e.Lang.isArray(t),s,o;return i?(s=t,o="hsl"):(s=h._start(t),o=c.findType(t)),r=r||o,n.h&&(s[0]=(+s[0]+n.h)%360),n.s&&(s[1]=Math.max(Math.min(+s[1]+n.s,100),0)),n.l&&(s[2]=Math.max(Math.min(+s[2]+n.l,100),0)),i?s:h._finish(s,r)},getBrightness:function(t){var n=c.toArray(c._convertTo(t,r)),i=n[0],s=n[1],o=n[2],u=e.Color._brightnessWeights;return Math.sqrt(i*i*u.r+s*s*u.g+o*o*u.b)/255},getSimilarBrightness:function(t,r,i){var s=c.toArray(c._convertTo(t,n)),o=h.getBrightness(r);return i=i||c.findType(t),i==="keyword"&&(i="hex"),s[2]=h._searchLuminanceForBrightness(s,o,0,100),t=c.fromArray(s,e.Color.TYPES.HSLA),c._convertTo(t,i)},_start:function(e){var t=c.toArray(c._convertTo(e,n));return t[0]=h._toSubtractive(t[0]),t},_finish:function(e,t){return e[0]=h._toAdditive(e[0]),e="hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")",t==="keyword"&&(t="hex"),c._convertTo(e,t)},_toAdditive:function(t){return t=e.Color._constrainHue(t),t<=180?t/=1.5:t<240&&(t=120+(t-180)*2),e.Color._constrainHue(t,10)},_toSubtractive:function(t){return t=e.Color._constrainHue(t),t<=120?t*=1.5:t<240&&(t=180+(t-120)/2),e.Color._constrainHue(t,10)},_constrainHue:function(e,t){while(e<0)e+=360;return e%=360,t&&(e=Math.round(e*t)/t),e},_brightnessWeights:{r:.221,g:.711,b:.068},_searchLuminanceForBrightness:function(t,n,r,i){var s=(i+r)/2,o;return t[2]=s,o=h.getBrightness(c.fromArray(t,e.Color.TYPES.HSL)),o+.01>n&&o-.01<n?s:o>n?h._searchLuminanceForBrightness(t,n,r,s):h._searchLuminanceForBrightness(t,n,s,i)}};e.Color=e.mix(e.Color,h)},"3.8.0pr1",{requires:["color-hsl"]});
